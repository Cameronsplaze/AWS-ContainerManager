
InstanceType: m5.large
MinutesWithoutPlayers: 5

Container:
  # Docs here: https://github.com/lloesche/valheim-server-docker
  Image: lloesche/valheim-server
  Ports:
    - UDP: 2456
    - UDP: 2457
  Environment:
    SERVER_NAME: "Christian Minecraft Server"
    WORLD_NAME: "Valhalla"
    SERVER_PASS: !ENV ${VALHEIM_PASS}
    # DON'T USE '-crossplay' inside SERVER_ARGS! It sets up a proxy server, so you
    #      can't see if anyone is connected/disconnected. That means we can never spin
    #      down the server, and it will cost you a lot of money.
    # SERVER_ARGS: "-crossplay"
    SERVER_PUBLIC: False
    # Since we're in the cloud, and this is only up when someone is connected:
    UPDATE_IF_IDLE: False
    RESTART_IF_IDLE: False
    BACKUPS: False
    # Set user and group ID to match the host:
    # PUID: 1001
    # PGID: 1001
  VolumeInfo:
    RemovalPolicy: DESTROY
  Volumes:
    # Holds server config info
    - Path: /config
    # Holds server download file
    - Path: /opt/valheim
