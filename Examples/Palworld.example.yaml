
Ec2:
  InstanceType: m5.2xlarge # 8vCPUs, 32GB RAM

Container:
  # Docs here: https://github.com/thijsvanloef/palworld-server-docker
  Image: thijsvanloef/palworld-server-docker:latest
  Ports:
    - UDP: 8211
    - UDP: 27015
  Environment:
    # Yes this is Palworld, the server-name is a inside joke
    SERVER_NAME: Christian Minecraft Server
    SERVER_DESCRIPTION: "Pokemon but with guns"
    PLAYERS: 32 # Max allowed in Palworld
    PORT: 8211 # Default
    SERVER_PASSWORD: !ENV ${PALWORLD_PASSWORD}
    RCON_ENABLED: False # Makes logs noisy, and might be extra network traffic keeping the container up
    MULTITHREADING: False # Do the threads talk over sockets???
    BACKUP_ENABLED: False # We have this with AWS already.
    ENABLE_PLAYER_LOGGING: False # Maybe this is what's too noisy for watching traffic?
    # Update when the server turns on, it isn't up 24/7:
    UPDATE_ON_BOOT: True
    AUTO_UPDATE_ENABLED: False
    AUTO_REBOOT_ENABLED: True
    AUTO_REBOOT_EVEN_IF_PLAYERS_ONLINE: True
    ### From https://palworld-server-docker.loef.dev/getting-started/configuration/game-settings
    # They assume servers are up 24/7 when setting these numbers. Tone down a bit since our's isn't:
    PAL_EGG_DEFAULT_HATCHING_TIME: 1.000000

Volumes:
  - Paths:
      - Path: /palworld

Watchdog:
  Threshold: 30000
  # Hot fix until I can figure out why Threshold increases on older worlds
  DurationHours: 4
  ShouldStop: True
